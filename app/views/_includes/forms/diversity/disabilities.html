{% set otherDisabilityHtml %}
  {{ govukInput({
    classes: "govuk-!-width-two-thirds",
    label: {
      text: "Describe their disability or health condition (optional)"
    }
  } | decorateAttributes(record, "record.diversity.disabilitiesOther"))}}
{% endset -%}

{% include "_includes/trainee-name-caption.njk" %}

{% set disabilityItems = [] %}

{% for disabilityItem in data.disabilities.items %}
  {% set disabilityItems = disabilityItems | push(disabilityItem) %}
{% endfor %}

{% set disabilityItems = disabilityItems | push({
  text: data.disabilities.otherOption.text,
  value: data.disabilities.otherOption.value,
  conditional: {
    html: otherDisabilityHtml
  }
}) %}

{% set disabilityItems = disabilityItems | push({
  divider: "or"
}) %}

{% set disabilityItems = disabilityItems | push(data.disabilities.noneOption) %}

{% set disabilityItems = disabilityItems | push({
  divider: "or"
}) %}

{% set disabilityItems = disabilityItems | push(data.disabilities.notProvidedOption) %}

{{ govukCheckboxes({
    fieldset: {
      legend: {
        text: pageHeading,
        isPageHeading: true,
        classes: "govuk-fieldset__legend--l"
      }
    },
    hint: {
      text: "Select all that apply"
    },
    items: disabilityItems
  } | decorateAttributes(record, "record.diversity.disabilities")) }}

{{ govukButton({
  text: "Continue"
}) }}

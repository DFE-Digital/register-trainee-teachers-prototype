{% set complete = {
  text: "Complete",
  checked: true if query.filterCompleteStatus == "Complete"
} %}

{% set hasProblems = {
  text: "Has problems",
  value: "Has problems",
  checked: true if query.filterCompleteStatus == "Has problems"
} %}

{% set incomplete = {
  text: "Incomplete",
  checked: true if query.filterCompleteStatus == "Incomplete"
} %}

{% set draftItems = [complete, incomplete, hasProblems] %}

{% set recordItems = [
  incomplete,
  hasProblems
] %}


{{ govukCheckboxes({
  classes: "govuk-checkboxes--small js-auto-submit",
  fieldset: {
    legend: {
      text: "Draft completion" if (navActive == "drafts") else "Available to do",
      isPageHeading: false,
      classes: "govuk-fieldset__legend--s"
    }
  },
  items: draftItems if navActive == "drafts" else recordItems,
  values: data.filterCompleteStatus
}) }}
